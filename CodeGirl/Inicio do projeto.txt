--CREATE DATABASE agenda
--USE agenda
/*IDENTITY: é um recurso do T-SQL que permite em campos númericos o incremento automático. 
Você pode estipular o número inicial e a sequência para incremento desta forma: IDENTITY(1,2) ou seja, 
a sequência se inicia em 1 (um) e incrementa 2 (dois) a cada inserção
CONSTRAINT: indica que uma restrição (regra) será inserida nos casos que foram utilizados note que 
auxiliou a criação da chave primaria da tabela endereço e da chave estrangeira do relacionamento entre endereço e contato.*/
CREATE TABLE contato(
	id INT PRIMARY KEY IDENTITY,
	nome NVARCHAR(60) NOT NULL,
	apelido NVARCHAR(20) NULL,
	email_principal NVARCHAR(100) NULL,
	sexo CHAR NOT NULL,
	data_nascimento DATE NOT NULL
);

CREATE TABLE uf(
	id NVARCHAR(2) PRIMARY KEY,
	nome NVARCHAR(20) NOT NULL,
);

CREATE TABLE endereco(
	id INT IDENTITY NOT NULL,
	id_contato INT NOT NULL,
	logradouro NVARCHAR(100) NOT NULL,
	numero INT NULL,
	bairro NVARCHAR(50) NOT NULL,
	id_uf NVARCHAR(2) NOT NULL,
	complemento NVARCHAR(2),
	CONSTRAINT PK_ENDERECO_ID PRIMARY KEY (id), 
	CONSTRAINT FK_ENDERECO_CONTATO FOREIGN KEY (id_contato) REFERENCES contato(id)
);

CREATE TABLE email(
	email NVARCHAR(100) UNIQUE,
	email_secundario INT,
	id_contato INT FOREIGN KEY REFERENCES contato(id),

);